<html xmlns:v-bind="http://www.w3.org/1999/xhtml">

<header>
</header>

<body>
<div id="app">
  <p  :class="{title : title}" @click="title = ! title">TODO LIST</p>
  <input v-model="newItem">
  <button @click="submit">新增</button>
  <!--用key值提升渲染性能-->
  <ul >
    <todo-list v-for="(item,index) in items" :key="item.index" v-text="item.name" :content="item"> </todo-list>
  </ul>
</div>
</body>

<script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
<script>

  Vue.component('todo-list',{
    props: ['content'],
    template: '<li @click="handleClick" >{{content.name}}</li>',
    methods: {
      handleClick: function(){
        console.log(this.content)
        this.content.finished = ! this.content.finished;
      }
    }
  })

  var app = new Vue({
    el: '#app',
    data: {
      show: true,
      title: true,
      newItem: '',
      items: [
        {name: '测试1',finished: false },
        {name: '测试2',finished: false }
        ]
    },
    methods: {
      submit: function(){
        this.items.push({name: this.newItem, finished: false})
        this.newItem = '';
      }
    }
  })

</script>

<style>
  .title {
    text-decoration: underline;
  }

</style>

</html>
